apiVersion: v1 # Kubernetes API version
kind: ConfigMap # Resource type
metadata: # Object metadata
  name: grafana-datasources # ConfigMap name
  namespace: monitoring # Target namespace
data:
  datasource.yaml: | # Grafana datasource provisioning
    apiVersion: 1 # Grafana provisioning API version
    datasources:
      - name: Prometheus # Datasource name
        type: prometheus # Datasource type
        access: proxy # Server-side access
        url: http://prometheus.monitoring.svc.cluster.local:9090 # Prometheus service URL
        isDefault: true # Default datasource
